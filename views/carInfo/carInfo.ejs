<!DOCTYPE html>
<html>
    <header>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/themes/south-street/jquery-ui.min.css">
      <link rel="stylesheet" href="/css/carInfo/carInfoStyles.css">
        <title>Car info</title>


    </header>
    <body>
      <h1>Car info</h1>
      <div id="actionSelector">
        <button id="btnRefuel" class="selected">Tankolás</button>
        <button id="btnService">Szervíz</button>
      </div>

      <div id="form">
        <form>
          <input id="actionType" type="hidden" name="actionType" value="1"/>
          <label for="regNumberSelector">Autó:</label>
          <select id="regNumberSelector" name="regNumberSelector">
            <% data.forEach(function(car){ %>
              <option value="<%= car.id %>"><%= car.regNumber %></option>
            <% }); %>
          </select>
          <label for="datepicker">Dátum:</label>
          <input id="datepicker" name="txtDate" type="text" readonly/>
          <label for="km">Km óra:</label>
          <input id="km" name="km" type="number"/>
					<div id="refuelInputs">
						<label for="fuelAmountField">Tankolt üzemanyag:</label>
						<input id="fuelAmountField" name="txtfuelAmount" type="number" min="0" step="any"/>
						<label for="fuelCostField">Üzemanyag ár:</label>
						<input id="fuelCostField" name="txtfuelCost" type="number" min="0" step="any"/>
					</div>
					<div id="serviceInputs" class="hidden">
						<label for="fixCostField">Javítás ára:</label>
						<input id="fixCostField" name="txtFixCost" type="number" min="0" step="any"/>
					</div>
        </form>
      </div>

      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
      <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
      <script>
        // onLoad
        $(function() {
          $( "#datepicker" ).datepicker({
          firstDay: 1,
          dateFormat: "yy-mm-dd"
            });
          $( "#datepicker" ).val($.datepicker.formatDate('yy-mm-dd', new Date()))
        });

        // Service or refuel
        $("#actionSelector button").click(function(e){
          if (!$(this).hasClass("selected")) {
            $("#actionSelector button").toggleClass("selected");
            $("#form div").toggleClass("hidden");

            if ($(this).attr("id") == "btnRefuel") {
              $("#actionType").val("1");
            } else if ($(this).attr("id") == "btnService") {
              $("#actionType").val("2");
            }
          }
        });


      </script>
    </body>
</html>
